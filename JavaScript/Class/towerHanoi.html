<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css" />
    <style>
      body {
        height: 100%;
        width: 100%;
        background-color: rgb(60, 60, 90);
      }

      .divClass {
        border: 2px solid;
        height: 300px;
        width: 30%;
        float: left;
        padding: auto;
        margin: 1%;
        display: flex;
        flex-direction: column-reverse;
        background-color: rgb(174, 179, 162);
        box-shadow: 10px 10px 5px lightblue;
      }
      .buttonClass1 {
        float: left;
        margin-top: 20px;
        margin-right: 10%;
        margin-left: 15%;
        border-radius: 5%;
        font-weight: 600;
        background-color: aquamarine;
      }

      .innerButton {
        height: 15%;
        width: 90%;
        margin-left: 5%;
        margin-bottom: 2%;
        text-align: center;
        border-radius: 40%;
        background-color: blueviolet;
      }

      #checkButton {
        margin-left: 20%;
        margin-top: 10%;
        width: 10%;
        background-color: rgb(79, 79, 228);
      }

      #resetButton {
        margin-left: 20%;
        margin-top: 10%;
        width: 10%;
        background-color: brown;
      }

      #d2 {
        height: 100px;
        width: 250px;
      }
    </style>
  </head>
  <body>
    <div id="div1" class="divClass">
      <button id="button1" class="innerButton">1</button>
      <button id="button2" class="innerButton">2</button>
      <button id="button3" class="innerButton">3</button>
      <button id="button4" class="innerButton">4</button>
    </div>
    <div id="div2" class="divClass"></div>
    <div id="div3" class="divClass"></div>
    <br /><br /><br />
    <button class="buttonClass1" onclick="myFunction12()">1->2</button>
    <button class="buttonClass1" onclick="myFunction23()">2->3</button>
    <button class="buttonClass1" onclick="myFunction31()">3->1</button>
    <br />
    <button class="buttonClass1" onclick="myFunction13()">1->3</button>
    <button class="buttonClass1" onclick="myFunction21()">2->1</button>
    <button class="buttonClass1" onclick="myFunction32()">3->2</button>

    <button onclick="mycheck()" id="checkButton" class="buttonClass2">
      Check Result
    </button>
    <button onclick="reset()" id="resetButton" class="buttonClass2">
      Reset
    </button>

    <div id="id01" class="w3-modal">
      <div id="d2" class="w3-modal-content w3-animate-zoom">
        <header class="w3-container w3-teal">
          <span
            onclick="document.getElementById('id01').style.display='none'"
            class="w3-button w3-display-topright"
            >&times;</span
          >
          <h2>
            Congratulation! <br />
            You are Winner
          </h2>
        </header>
      </div>
    </div>

    <script>
      function shuffle(array) {
        let currentIndex = array.length,
          randomIndex;
        while (currentIndex != 0) {
          randomIndex = Math.floor(Math.random() * currentIndex);
          currentIndex--;

          [array[currentIndex], array[randomIndex]] = [
            array[randomIndex],
            array[currentIndex],
          ];
        }
        return array;
      }
      let random_array = [4, 3, 2, 1];

      function myFunction12() {
        let bt = document.getElementById("div1");
        let className = bt.lastElementChild.getAttribute("class");
        let b2 = document.getElementById("div2");
        let txt = bt.lastElementChild.innerText,
          txt2;

        if (b2.childElementCount == 0) txt2 = 5;
        else txt2 = b2.lastElementChild.innerText;
        //console.log(txt, txt2);
        if (txt > txt2) return;
        let btn = document.createElement("button");
        btn.innerText = txt;
        btn.setAttribute("class", className);
        b2.appendChild(btn);
        bt.removeChild(bt.lastElementChild);
      }

      function myFunction23() {
        let bt = document.getElementById("div2");
        let className = bt.lastElementChild.getAttribute("class");
        let b2 = document.getElementById("div3");
        let txt = bt.lastElementChild.innerText,
          txt2;

        if (b2.childElementCount == 0) txt2 = 5;
        else txt2 = b2.lastElementChild.innerText;
        console.log(txt, txt2);
        if (txt > txt2) return;
        let btn = document.createElement("button");
        btn.innerText = txt;
        btn.setAttribute("class", className);
        b2.appendChild(btn);
        bt.removeChild(bt.lastElementChild);
      }
      function myFunction31() {
        let bt = document.getElementById("div3");
        let className = bt.lastElementChild.getAttribute("class");
        let b2 = document.getElementById("div1");
        let txt = bt.lastElementChild.innerText,
          txt2;

        if (b2.childElementCount == 0) txt2 = 5;
        else txt2 = b2.lastElementChild.innerText;
        console.log(txt, txt2);
        if (txt > txt2) return;
        let btn = document.createElement("button");
        btn.innerText = txt;
        btn.setAttribute("class", className);
        b2.appendChild(btn);
        bt.removeChild(bt.lastElementChild);
      }

      function myFunction32() {
        let bt = document.getElementById("div3");
        let className = bt.lastElementChild.getAttribute("class");
        let b2 = document.getElementById("div2");
        let txt = bt.lastElementChild.innerText,
          txt2;

        if (b2.childElementCount == 0) txt2 = 5;
        else txt2 = b2.lastElementChild.innerText;
        console.log(txt, txt2);
        if (txt > txt2) return;
        let btn = document.createElement("button");
        btn.innerText = txt;
        btn.setAttribute("class", className);
        b2.appendChild(btn);
        bt.removeChild(bt.lastElementChild);
      }

      function myFunction21() {
        let bt = document.getElementById("div2");
        let className = bt.lastElementChild.getAttribute("class");

        let b2 = document.getElementById("div1");
        let txt = bt.lastElementChild.innerText,
          txt2;

        if (b2.childElementCount == 0) txt2 = 5;
        else txt2 = b2.lastElementChild.innerText;
        console.log(txt, txt2);
        if (txt > txt2) return;
        let btn = document.createElement("button");
        btn.innerText = txt;
        btn.setAttribute("class", className);
        b2.appendChild(btn);
        bt.removeChild(bt.lastElementChild);
      }

      function myFunction13() {
        let bt = document.getElementById("div1");
        let className = bt.lastElementChild.getAttribute("class");

        let b2 = document.getElementById("div3");
        let txt = bt.lastElementChild.innerText,
          txt2;

        if (b2.childElementCount == 0) txt2 = 5;
        else txt2 = b2.lastElementChild.innerText;
        console.log(txt, txt2);
        if (txt > txt2) return;
        let btn = document.createElement("button");
        btn.innerText = txt;
        btn.setAttribute("class", className);
        b2.appendChild(btn);
        bt.removeChild(bt.lastElementChild);
      }

      function mycheck() {
        let d1 = document.getElementById("div1");
        let d2 = document.getElementById("div2");
        let d3 = document.getElementById("div3");
        if (d1.childElementCount == 4) checkSort(d1);
        else if (d2.childElementCount == 4) checkSort(d2);
        else if (d3.childElementCount == 4) checkSort(d3);
        else
          alert(
            "                           Not complete \n You should rearrange all disk in one place "
          );
      }

      function oneDiv21() {
        let bt = document.getElementById("div2");
        let className = bt.lastElementChild.getAttribute("class");
        let b2 = document.getElementById("div1");
        let btn = document.createElement("button");
        btn.innerText = bt.lastElementChild.innerText;
        btn.setAttribute("class", className);
        b2.appendChild(btn);
        bt.removeChild(bt.lastElementChild);
      }

      function oneDiv31() {
        let bt = document.getElementById("div3");
        let className = bt.lastElementChild.getAttribute("class");
        let b2 = document.getElementById("div1");
        let btn = document.createElement("button");
        btn.innerText = bt.lastElementChild.innerText;
        btn.setAttribute("class", className);
        b2.appendChild(btn);
        bt.removeChild(bt.lastElementChild);
      }

      function reset() {
        let d2 = document.getElementById("div2"); //reset all button in one div
        let number = d2.childElementCount;
        for (let i = 0; i < number; i++) {
          oneDiv21();
        }
        let d3 = document.getElementById("div3");
        number = d3.childElementCount;
        console.log(number);
        for (let i = 0; i < number; i++) {
          oneDiv31();
        }

        shuffle(random_array);
        let bt = document.getElementById("div1");
        for (let i = 0; i < 4; i++) {
          bt.children[i].innerText = random_array[i];
        }
      }
      reset();

      function checkSort(obj) {
        if (
          obj.children[0].innerText == 4 &&
          obj.children[1].innerText == 3 &&
          obj.children[2].innerText == 2 &&
          obj.children[3].innerText == 1
        ) {
          document.getElementById("id01").style.display = "block";
          //(style.class = "w3-button w3-black");
        } else {
          alert("Disk are not arranged");
        }
      }
    </script>
  </body>
</html>
